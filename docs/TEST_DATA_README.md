# テストデータ使用ガイド

## 📁 ファイル説明

### `test-data.txt`
PRISM の INBOX 仕分け機能をテストするためのテストデータ集です。

**データ構成:**
- 全67行（コメント・空行含む）
- 有効なタイトル: **50件**

**カテゴリ別内訳:**
- Task系: 10件
- ToDo系: 5件
- Project系: 5件
- Habit系: 7件
- Knowledge系: 10件
- Note系: 7件
- 複雑なケース: 6件

---

## 🚀 使い方

### 1️⃣ テストデータの確認

```bash
# ファイル全体を表示
cat test-data.txt

# 有効なタイトルのみを表示（コメント除外）
grep -v "^#" test-data.txt | grep -v "^$"

# 件数を確認
grep -v "^#" test-data.txt | grep -v "^$" | wc -l
```

### 2️⃣ INBOXへのインポート

```bash
# インポートスクリプトを実行
python3 tools/import_from_text.py
```

**処理内容:**
- `test-data.txt` を読み込み
- コメント行（`#`で始まる行）と空行をスキップ
- 各行をタイトルとしてINBOXに追加
- 0.3秒間隔でAPI呼び出し（レート制限対策）

### 3️⃣ 仕分け実行

```bash
# 高度な仕分け処理を実行
python3 tools/advanced_classify_inbox.py
```

**自動処理:**
- タイトルから分類（Task/ToDo/Project/Habit/Knowledge/Note）
- 重要度の推察（高/中/低）
- 期限の推察（明日/来週/月曜など）
- カテゴリの推察（技術/開発/学習/業務など）
- 要約の自動生成
- INBOXから各データベースへ移動

### 4️⃣ 結果の確認

```bash
# 仕分け結果を検証
python3 tools/verify_classification_results.py
```

**確認内容:**
- 各データベースの件数
- INBOXが空になったか
- 最新アイテムのリスト表示

---

## 📊 テストデータの内容

### Task系（10件）
タスク管理に適したアイテム

```
緊急：本番環境でエラーが発生、至急対応が必要
週次報告書を金曜日までに提出
クライアントA社への提案資料を作成
コードレビューの指摘事項を修正
データベースのパフォーマンス改善
セキュリティ脆弱性の対応
システムのバックアップ設定
新機能のテスト実施
ドキュメントの更新作業
重要：明日の朝までにバグを修正
```

**期待される分類:**
- 重要度: 「緊急」「重要」→高、その他→中
- 期限: 「金曜日まで」「明日の朝まで」から自動推察
- カテゴリ: 技術、業務など

### ToDo系（5件）
やることリストに適したアイテム

```
TODO: 会議室を予約する
やること: 請求書を印刷して提出
TODO: メールの返信を忘れずに
やること: 備品の発注手続き
TODO: 来週の打ち合わせ資料を準備
```

**期待される分類:**
- 「TODO:」「やること:」で自動判定
- カテゴリ: 業務

### Project系（5件）
プロジェクト管理に適したアイテム

```
新規プロジェクト: ECサイトのリニューアル
モバイルアプリ開発プロジェクト
社内システムの刷新プロジェクト
プロジェクト: AI チャットボット導入
新プロジェクト: マーケティングオートメーション構築
```

**期待される分類:**
- 「プロジェクト」キーワードで自動判定
- 期限: デフォルト30日後
- カテゴリ: プロジェクト、開発など

### Habit系（7件）
習慣管理に適したアイテム

```
毎日30分の英語学習
週3回のジムトレーニング
毎朝のチーム朝会に参加
毎週月曜: 週次振り返りミーティング
定期的なコードレビュー実施
毎日の業務日報作成
週次でのタスク棚卸し
```

**期待される分類:**
- 「毎日」「毎週」「定期」で自動判定
- 頻度: 「毎日」→毎日、「週」→毎週
- カテゴリ: 習慣、学習、健康など

### Knowledge系（10件）
知識・学習に適したアイテム

```
Reactのパフォーマンス最適化テクニック
Kubernetesのデプロイメント手順
AWSのコスト最適化について学ぶ
TypeScriptの高度な型システム
GraphQL APIの設計パターン
データベース設計のベストプラクティス
マイクロサービスアーキテクチャの原則
CI/CDパイプラインの構築方法
セキュリティ対策の基礎知識
クリーンコードの原則について
```

**期待される分類:**
- 技術用語、「について」「手順」などで判定
- カテゴリ: 技術、学習

### Note系（7件）
メモ・アイデアに適したアイテム

```
今日学んだこと: Pythonの非同期処理
アイデア: ユーザー体験を改善する新機能
読書メモ: エンジニアリング組織論への招待
今日の振り返り: プロジェクトの進捗確認
メモ: 次回ミーティングのアジェンダ案
雑記: 週末に試したい技術スタック
ブログネタ: AIを活用した開発事例
```

**期待される分類:**
- 「メモ」「アイデア」「振り返り」などで判定
- カテゴリ: メモ、アイデア、学習など

### 複雑なケース（6件）
複数の要素を含むアイテム

```
緊急かつ重要: 本番障害の原因調査と対策
来週の月曜までにプレゼン資料を完成させる
プロジェクト計画書のレビューと承認依頼
毎日の健康管理: 運動と食事記録
学習メモ: Docker Composeのベストプラクティス
TODO: いつか時間ができたら整理したい資料
```

**テストポイント:**
- 複数キーワードの優先度判定
- 期限の正確な推察
- カテゴリの適切な組み合わせ

---

## 🔄 ワークフロー全体

```
1. テストデータ準備
   test-data.txt

2. INBOXにインポート
   python3 tools/import_from_text.py
   ↓
   INBOX: 50件

3. 仕分け実行
   python3 tools/advanced_classify_inbox.py
   ↓
   Task:      約10件
   ToDo:      約5件
   Project:   約5件
   Habit:     約7件
   Knowledge: 約10件
   Note:      約7件
   INBOX:     0件 ✅

4. 結果確認
   python3 tools/verify_classification_results.py
```

---

## 📝 カスタマイズ方法

### テストデータの追加

`test-data.txt` に新しい行を追加するだけ：

```txt
# 自分のテストデータ
緊急：新しいタスク
プロジェクト: 新企画
毎日の新しい習慣
```

### データのクリア

```bash
# INBOXを完全クリア
python3 tools/clear_inbox.py
```

### 再テスト

```bash
# 1. INBOXをクリア
python3 tools/clear_inbox.py

# 2. テストデータを再インポート
python3 tools/import_from_text.py

# 3. 仕分け実行
python3 tools/advanced_classify_inbox.py

# 4. 結果確認
python3 tools/verify_classification_results.py
```

---

## ⚠️ 注意事項

1. **API レート制限**
   - 0.3秒間隔で自動制御
   - 大量データの場合は時間がかかります

2. **データの重複**
   - 同じタイトルでも別アイテムとして追加されます
   - 必要に応じて事前にINBOXをクリア

3. **環境変数**
   - `NOTION_API_KEY` が設定されていることを確認
   - `.env` ファイルに記載

4. **データベースID**
   - スクリプト内のIDが正しいことを確認
   - 異なるワークスペースでは変更が必要

---

## 🎯 期待される結果

### 分類精度
- Task/Knowledge/Note: 80-90%
- ToDo/Project/Habit: 95-100%（明示的キーワードあり）

### 推察精度
- 重要度: 90%以上
- 期限: 70-80%（明示的な場合は100%）
- カテゴリ: 85%以上

---

## 📚 関連ファイル

- `test-data.txt` - テストデータ本体
- `tools/import_from_text.py` - インポートスクリプト
- `tools/advanced_classify_inbox.py` - 仕分けスクリプト
- `tools/verify_classification_results.py` - 検証スクリプト
- `tools/clear_inbox.py` - クリアスクリプト
- `tests/ADVANCED_CLASSIFICATION_REPORT.md` - 詳細レポート

---

**作成日**: 2025年10月22日  
**バージョン**: 1.0  
**ステータス**: ✅ 完成

